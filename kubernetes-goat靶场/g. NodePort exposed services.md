NodePort exposed services

2023年11月21日

19:20

 

NodePort 暴露的服务

在此方案中，我们看到另一个错误配置，它可能使攻击者能够访问内部服务和未公开的服务。这是创建 Kubernetes 服务以及集群设置和配置时出现的简单错误配置之一。

![](media/image1.png)

当 Kubernetes 创建服务时，它会从 Kubernetes 集群配置中定义的标志中指定的范围中分配端口。（默认情况下，这些端口的范围为 30000-32767。NodePort

\[官方靶场有问题复现不了\]

总结就是：30000-32767是它会从 Kubernetes 集群配置中定义的标志中指定的范围中分配端口

在云原生中  
1、docker配置不当\[api接口未授权访问等\]

2、k8s配置不当\[api接口未授权访问等\]

3、容器存在漏洞拿到shell------\[横向\]-------k8s or docker

 
